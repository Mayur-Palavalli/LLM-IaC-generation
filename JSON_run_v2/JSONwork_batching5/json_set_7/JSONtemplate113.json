{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "GreengrassCoreDefinitionVersion"}, "FunctionDefinitionVersionArn": {"Ref": "GreengrassFunctionDefinitionVersion"}, "DeviceDefinitionVersionArn": {"Ref": "GreengrassDeviceDefinitionVersion"}, "ResourceDefinitionVersionArn": {"Ref": "GreengrassResourceDefinitionVersion"}}}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition", "InitialVersion": {"Cores": [{"CertificateArn": {"Ref": "GreengrassCoreCertificateArn"}, "Id": "MyCoreId", "SyncShadow": true, "ThingArn": {"Ref": "GreengrassCoreThingArn"}}]}}}, "GreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "GreengrassCoreDefinition"}, "Cores": [{"CertificateArn": {"Ref": "GreengrassCoreCertificateArn"}, "Id": "MyCoreId", "SyncShadow": true, "ThingArn": {"Ref": "GreengrassCoreThingArn"}}]}}, "GreengrassFunctionDefinition": {"Type": "AWS::Greengrass::FunctionDefinition", "Properties": {"Name": "MyFunctionDefinition", "InitialVersion": {"Functions": [{"FunctionArn": {"Ref": "GreengrassFunctionArn"}, "FunctionConfiguration": {"Executable": "path/to/executable", "MemorySize": 262144, "Pinned": true, "Timeout": 3}, "Id": "MyFunctionId"}]}}}, "GreengrassFunctionDefinitionVersion": {"Type": "AWS::Greengrass::FunctionDefinitionVersion", "Properties": {"FunctionDefinitionId": {"Ref": "GreengrassFunctionDefinition"}, "Functions": [{"FunctionArn": {"Ref": "GreengrassFunctionArn"}, "FunctionConfiguration": {"Executable": "path/to/executable", "MemorySize": 262144, "Pinned": true, "Timeout": 3}, "Id": "MyFunctionId"}]}}, "GreengrassDeviceDefinition": {"Type": "AWS::Greengrass::DeviceDefinition", "Properties": {"Name": "MyDeviceDefinition", "InitialVersion": {"Devices": [{"CertificateArn": {"Ref": "GreengrassDeviceCertificateArn"}, "Id": "MyDeviceId", "SyncShadow": true, "ThingArn": {"Ref": "GreengrassDeviceThingArn"}}]}}}, "GreengrassDeviceDefinitionVersion": {"Type": "AWS::Greengrass::DeviceDefinitionVersion", "Properties": {"DeviceDefinitionId": {"Ref": "GreengrassDeviceDefinition"}, "Devices": [{"CertificateArn": {"Ref": "GreengrassDeviceCertificateArn"}, "Id": "MyDeviceId", "SyncShadow": true, "ThingArn": {"Ref": "GreengrassDeviceThingArn"}}]}}, "GreengrassResourceDefinition": {"Type": "AWS::Greengrass::ResourceDefinition", "Properties": {"Name": "MyResourceDefinition", "InitialVersion": {"Resources": [{"Id": "MyResourceId", "Name": "MyResource", "ResourceDataContainer": {"LocalDeviceResourceData": {"SourcePath": "/dev/resource/path"}}}]}}}, "GreengrassResourceDefinitionVersion": {"Type": "AWS::Greengrass::ResourceDefinitionVersion", "Properties": {"ResourceDefinitionId": {"Ref": "GreengrassResourceDefinition"}, "Resources": [{"Id": "MyResourceId", "Name": "MyResource", "ResourceDataContainer": {"LocalDeviceResourceData": {"SourcePath": "/dev/resource/path"}}}]}}}, "Parameters": {"GreengrassCoreThingArn": {"Type": "String", "Description": "The ARN of the Greengrass core thing."}, "GreengrassCoreCertificateArn": {"Type": "String", "Description": "The ARN of the Greengrass core certificate."}, "GreengrassFunctionArn": {"Type": "String", "Description": "The ARN of the Greengrass function."}, "GreengrassDeviceThingArn": {"Type": "String", "Description": "The ARN of the Greengrass device thing."}, "GreengrassDeviceCertificateArn": {"Type": "String", "Description": "The ARN of the Greengrass device certificate."}}}