{"AWSTemplateFormatVersion": "2010-09-09", "Description": "Sample CloudFormation template to create an AWS App Runner Service from an existing ECR Repository.", "Resources": {"AppRunnerECRService": {"Type": "AWS::AppRunner::Service", "Properties": {"ServiceName": "MyAppRunnerService", "SourceConfiguration": {"AuthenticationConfiguration": {"AccessRoleArn": {"Fn::GetAtt": ["AppRunnerECRAccessRole", "Arn"]}}, "ImageRepository": {"ImageIdentifier": "123456789012.dkr.ecr.us-east-1.amazonaws.com/myexistingrepository:latest", "ImageRepositoryType": "ECR", "ImageConfiguration": {"Port": "80"}}, "AutoDeploymentsEnabled": false}, "InstanceConfiguration": {"Cpu": "1024", "Memory": "2048"}}}, "AppRunnerECRAccessRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "build.apprunner.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "AppRunnerECRAccessPolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["ecr:GetDownloadUrlForLayer", "ecr:BatchCheckLayerAvailability", "ecr:BatchGetImage"], "Resource": "*"}]}}]}}}, "Outputs": {"AppRunnerServiceUrl": {"Description": "The URL of the App Runner service", "Value": {"Fn::GetAtt": ["AppRunnerECRService", "ServiceUrl"]}}}}