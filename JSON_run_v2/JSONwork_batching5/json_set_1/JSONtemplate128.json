{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"DBInstancePrimary": {"Type": "AWS::RDS::DBInstance", "Properties": {"DBInstanceIdentifier": "myPrimaryDBInstance", "AllocatedStorage": "20", "DBInstanceClass": "db.t3.micro", "Engine": "mysql", "MasterUsername": "admin", "MasterUserPassword": "mypassword", "MultiAZ": true, "DBSubnetGroupName": {"Ref": "DBSubnetGroup"}, "VPCSecurityGroups": [{"Ref": "DBSecurityGroup"}]}}, "DBInstanceReadReplica": {"Type": "AWS::RDS::DBInstance", "Properties": {"DBInstanceIdentifier": "myReadReplica", "SourceDBInstanceIdentifier": {"Ref": "DBInstancePrimary"}, "DBInstanceClass": "db.t3.micro", "Engine": "mysql", "DBSubnetGroupName": {"Ref": "DBSubnetGroup"}, "VPCSecurityGroups": [{"Ref": "DBSecurityGroup"}]}}, "DBSubnetGroup": {"Type": "AWS::RDS::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for RDS instance", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "DBSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security group for RDS instance", "VpcId": "vpc-12345678", "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": 3306, "ToPort": 3306, "CidrIp": "0.0.0.0/0"}]}}}, "Outputs": {"PrimaryDBInstanceEndpoint": {"Description": "Endpoint of the primary DB instance", "Value": {"Fn::GetAtt": ["DBInstancePrimary", "Endpoint.Address"]}}, "ReadReplicaEndpoint": {"Description": "Endpoint of the read replica", "Value": {"Fn::GetAtt": ["DBInstanceReadReplica", "Endpoint.Address"]}}}}