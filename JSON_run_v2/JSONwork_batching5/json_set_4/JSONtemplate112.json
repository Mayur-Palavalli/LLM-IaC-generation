{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup"}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core1", "CertificateArn": "arn:aws:iot:region:account-id:cert/your-certificate-id", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/your-thing-name"}]}}}, "GreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "GreengrassCoreDefinition"}, "Cores": [{"Id": "Core1", "CertificateArn": "arn:aws:iot:region:account-id:cert/your-certificate-id", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/your-thing-name"}]}}, "GreengrassGroupVersion": {"Type": "AWS::Greengrass::GroupVersion", "Properties": {"GroupId": {"Ref": "GreengrassGroup"}, "CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinitionVersion", "Arn"]}}}, "GreengrassFunctionDefinition": {"Type": "AWS::Greengrass::FunctionDefinition", "Properties": {"Name": "MyFunctionDefinition", "InitialVersion": {"Functions": [{"Id": "Function1", "FunctionArn": "arn:aws:lambda:region:account-id:function:your-lambda-function-name", "FunctionConfiguration": {"MemorySize": 128000, "Timeout": 3, "Pinned": true}}]}}}, "GreengrassFunctionDefinitionVersion": {"Type": "AWS::Greengrass::FunctionDefinitionVersion", "Properties": {"FunctionDefinitionId": {"Ref": "GreengrassFunctionDefinition"}, "Functions": [{"Id": "Function1", "FunctionArn": "arn:aws:lambda:region:account-id:function:your-lambda-function-name", "FunctionConfiguration": {"MemorySize": 128000, "Timeout": 3, "Pinned": true}}]}}, "GreengrassGroupFunctionVersion": {"Type": "AWS::Greengrass::GroupVersion", "Properties": {"GroupId": {"Ref": "GreengrassGroup"}, "FunctionDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassFunctionDefinitionVersion", "Arn"]}}}}, "Outputs": {"GreengrassGroupId": {"Description": "Greengrass Group ID", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassGroupVersionArn": {"Description": "Greengrass Group Version ARN", "Value": {"Fn::GetAtt": ["GreengrassGroupVersion", "Id"]}}}}