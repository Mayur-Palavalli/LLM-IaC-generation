{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyEC2Instance": {"Type": "AWS::EC2::Instance", "Properties": {"ImageId": "ami-12345678", "InstanceType": "t2.micro", "NetworkInterfaces": [{"NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "DeviceIndex": 0}]}}, "MyNetworkInterface": {"Type": "AWS::EC2::NetworkInterface", "Properties": {"SubnetId": "subnet-12345678", "Description": "Primary network interface", "PrivateIpAddresses": [{"Primary": true, "PrivateIpAddress": "10.0.0.10"}, {"Primary": false, "PrivateIpAddress": "10.0.0.11"}], "SecondaryPrivateIpAddressCount": 0, "GroupSet": [{"Ref": "MySecurityGroup"}]}}, "MyEIP1": {"Type": "AWS::EC2::EIP", "DependsOn": "MyNetworkInterface", "Properties": {"Domain": "vpc"}}, "MyEIP2": {"Type": "AWS::EC2::EIP", "DependsOn": "MyNetworkInterface", "Properties": {"Domain": "vpc"}}, "EIPAssociation1": {"Type": "AWS::EC2::EIPAssociation", "DependsOn": "MyEC2Instance", "Properties": {"AllocationId": {"Fn::GetAtt": ["MyEIP1", "AllocationId"]}, "NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "PrivateIpAddress": "10.0.0.10"}}, "EIPAssociation2": {"Type": "AWS::EC2::EIPAssociation", "DependsOn": "MyEC2Instance", "Properties": {"AllocationId": {"Fn::GetAtt": ["MyEIP2", "AllocationId"]}, "NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "PrivateIpAddress": "10.0.0.11"}}, "MySecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Enable SSH access", "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": "22", "ToPort": "22", "CidrIp": "0.0.0.0/0"}], "VpcId": "vpc-12345678"}}}}