{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"SampleLoadBalancer": {"Type": "AWS::ElasticLoadBalancingV2::LoadBalancer", "Properties": {"Name": "SampleLoadBalancer", "Subnets": [{"Ref": "Subnet1"}, {"Ref": "Subnet2"}], "Scheme": "internet-facing", "LoadBalancerAttributes": [{"Key": "idle_timeout.timeout_seconds", "Value": "60"}]}}, "SampleTargetGroup": {"Type": "AWS::ElasticLoadBalancingV2::TargetGroup", "Properties": {"Port": 80, "Protocol": "HTTP", "VpcId": {"Ref": "VPC"}, "HealthCheckProtocol": "HTTP", "HealthCheckPort": "80", "HealthCheckPath": "/", "Matcher": {"HttpCode": "200"}}}, "SampleListener": {"Type": "AWS::ElasticLoadBalancingV2::Listener", "Properties": {"LoadBalancerArn": {"Ref": "SampleLoadBalancer"}, "Protocol": "HTTP", "Port": 80, "DefaultActions": [{"Type": "forward", "TargetGroupArn": {"Ref": "SampleTargetGroup"}}]}}, "SampleLaunchConfiguration": {"Type": "AWS::AutoScaling::LaunchConfiguration", "Properties": {"ImageId": "ami-0abcdef1234567890", "InstanceType": "t2.micro", "SecurityGroups": [{"Ref": "InstanceSecurityGroup"}]}}, "SampleAutoScalingGroup": {"Type": "AWS::AutoScaling::AutoScalingGroup", "Properties": {"VPCZoneIdentifier": [{"Ref": "Subnet1"}, {"Ref": "Subnet2"}], "LaunchConfigurationName": {"Ref": "SampleLaunchConfiguration"}, "MinSize": "1", "MaxSize": "3", "TargetGroupARNs": [{"Ref": "SampleTargetGroup"}], "HealthCheckType": "ELB", "HealthCheckGracePeriod": 300}, "CreationPolicy": {"AutoScalingCreationPolicy": {"MinSuccessfulInstancesPercent": 50}, "ResourceSignal": {"Timeout": "PT15M"}}}, "ScaleUpSchedule": {"Type": "AWS::AutoScaling::ScheduledAction", "Properties": {"AutoScalingGroupName": {"Ref": "SampleAutoScalingGroup"}, "DesiredCapacity": 3, "Recurrence": "cron(0 6 * * ? *)"}}, "ScaleDownSchedule": {"Type": "AWS::AutoScaling::ScheduledAction", "Properties": {"AutoScalingGroupName": {"Ref": "SampleAutoScalingGroup"}, "DesiredCapacity": 1, "Recurrence": "cron(0 18 * * ? *)"}}, "InstanceSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Enable HTTP access", "VpcId": {"Ref": "VPC"}, "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": "80", "ToPort": "80", "CidrIp": "0.0.0.0/0"}]}}}, "Parameters": {"VPC": {"Type": "AWS::EC2::VPC::Id", "Description": "VPC Id"}, "Subnet1": {"Type": "AWS::EC2::Subnet::Id", "Description": "Subnet 1 Id"}, "Subnet2": {"Type": "AWS::EC2::Subnet::Id", "Description": "Subnet 2 Id"}}}