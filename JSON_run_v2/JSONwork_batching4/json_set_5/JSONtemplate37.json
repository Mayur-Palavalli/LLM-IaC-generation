{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyMacroFunction": {"Type": "AWS::Lambda::Function", "Properties": {"Handler": "index.handler", "Role": "arn:aws:iam::123456789012:role/service-role/MyTestFunction-role-qwertyuiop", "Code": {"S3Bucket": "example-bucket", "S3Key": "function.zip"}, "Runtime": "nodejs20.x", "FunctionName": "MyMacroFunction"}}, "MyTableLoop": {"Type": "AWS::CloudFormation::Macro", "Properties": {"Name": "MyTableLoop", "FunctionName": {"Ref": "MyMacroFunction"}}}, "Table1": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": "Table1", "AttributeDefinitions": [{"AttributeName": "Id", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "Id", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 5, "WriteCapacityUnits": 5}}}, "Table2": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": "Table2", "AttributeDefinitions": [{"AttributeName": "Id", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "Id", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 3, "WriteCapacityUnits": 2}}}, "Table3": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": "Table3", "AttributeDefinitions": [{"AttributeName": "Id", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "Id", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 10, "WriteCapacityUnits": 8}}}}}