{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition"}}, "GreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "GreengrassCoreDefinition"}, "Cores": [{"Id": "MyGreengrassCore", "CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "ThingArn": "arn:aws:iot:region:account-id:thing/thing-name"}]}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup"}}, "GreengrassGroupVersion": {"Type": "AWS::Greengrass::GroupVersion", "Properties": {"GroupId": {"Ref": "GreengrassGroup"}, "CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinitionVersion", "Arn"]}}}, "GreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "ManagedPolicyArns": ["arn:aws:iam::aws:policy/service-role/AWSGreengrassResourceAccessRolePolicy"], "Path": "/", "RoleName": "MyGreengrassServiceRole"}}}, "Outputs": {"GreengrassGroupId": {"Description": "The ID of the Greengrass group", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassCoreDefinitionId": {"Description": "The ID of the Greengrass core definition", "Value": {"Ref": "GreengrassCoreDefinition"}}, "GreengrassServiceRoleArn": {"Description": "The ARN of the Greengrass service role", "Value": {"Fn::GetAtt": ["GreengrassServiceRole", "Arn"]}}}}