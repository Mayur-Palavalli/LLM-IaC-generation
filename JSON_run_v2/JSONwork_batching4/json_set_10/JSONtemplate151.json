{"AWSTemplateFormatVersion": "2010-09-09", "Parameters": {"VpcId": {"Type": "AWS::EC2::VPC::Id"}, "SubnetIds": {"Type": "List<AWS::EC2::Subnet::Id>"}, "DnsIpAddresses": {"Type": "CommaDelimitedList"}, "DomainName": {"Type": "String"}, "AdConnectorName": {"Type": "String"}, "SecurePasswordValue": {"Type": "String", "NoEcho": true}}, "Resources": {"ADConnector": {"Type": "AWS::DirectoryService::MicrosoftAD", "Properties": {"Name": {"Ref": "AdConnectorName"}, "Password": {"Ref": "SecurePasswordValue"}, "Description": "AD Connector for on-premises domain", "ShortName": {"Ref": "DomainName"}, "VpcSettings": {"SubnetIds": {"Ref": "SubnetIds"}, "VpcId": {"Ref": "VpcId"}}}}, "DomainMembersSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security group for domain member communication", "VpcId": {"Ref": "VpcId"}, "SecurityGroupIngress": [{"IpProtocol": "-1", "CidrIp": "0.0.0.0/0"}]}}, "DHCPOptionsSet": {"Type": "AWS::EC2::DHCPOptions", "Properties": {"DomainName": {"Ref": "DomainName"}, "DomainNameServers": {"Ref": "DnsIpAddresses"}}}, "DHCPOptionsAssociation": {"Type": "AWS::EC2::VPCDHCPOptionsAssociation", "Properties": {"DhcpOptionsId": {"Ref": "DHCPOptionsSet"}, "VpcId": {"Ref": "VpcId"}}}}, "Metadata": {"AWS::CloudFormation::Interface": {"ParameterGroups": [{"Label": {"default": "Network Configuration"}, "Parameters": ["VpcId", "SubnetIds", "DnsIpAddresses", "DomainName"]}, {"Label": {"default": "AD Connector Configuration"}, "Parameters": ["AdConnectorName", "SecurePasswordValue"]}], "ParameterLabels": {"VpcId": {"default": "VPC ID"}, "SubnetIds": {"default": "Subnet IDs"}, "DnsIpAddresses": {"default": "DNS IP Addresses"}, "DomainName": {"default": "Domain Name"}, "AdConnectorName": {"default": "AD Connector Name"}, "SecurePasswordValue": {"default": "AD Connector Password Value"}}}}}