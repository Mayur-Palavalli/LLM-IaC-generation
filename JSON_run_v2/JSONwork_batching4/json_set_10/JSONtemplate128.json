{"AWSTemplateFormatVersion": "2010-09-09", "Parameters": {"PrimaryAvailabilityZone": {"Type": "String", "Description": "Primary Availability Zone for the RDS instance"}, "ReplicaAvailabilityZone": {"Type": "String", "Description": "Replica Availability Zone for the RDS instance"}, "DBMasterUserPassword": {"Type": "AWS::SSM::Parameter::Value<String>", "Description": "The master password for the RDS instance", "Default": "ssm-secure:/my/parameter/store/dbmasteruserpassword:1"}}, "Resources": {"MyDBSubnetGroup": {"Type": "AWS::RDS::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for RDS DBInstance", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "MyPrimaryDBInstance": {"Type": "AWS::RDS::DBInstance", "Properties": {"DBInstanceClass": "db.m5.large", "AllocatedStorage": "20", "DBName": "MyDatabase", "Engine": "MySQL", "MasterUsername": "admin", "MasterUserPassword": {"Ref": "DBMasterUserPassword"}, "VPCSecurityGroups": ["sg-12345678"], "DBSubnetGroupName": {"Ref": "MyDBSubnetGroup"}, "AvailabilityZone": {"Ref": "PrimaryAvailabilityZone"}, "MultiAZ": "true", "StorageType": "gp2"}}, "MyReadReplicaDBInstance": {"Type": "AWS::RDS::DBInstance", "Properties": {"DBInstanceClass": "db.m5.large", "SourceDBInstanceIdentifier": {"Ref": "MyPrimaryDBInstance"}, "AvailabilityZone": {"Ref": "ReplicaAvailabilityZone"}}}}, "Outputs": {"PrimaryDBInstanceEndpoint": {"Value": {"Fn::GetAtt": ["MyPrimaryDBInstance", "Endpoint.Address"]}, "Description": "The endpoint address of the primary database instance"}, "ReadReplicaDBInstanceEndpoint": {"Value": {"Fn::GetAtt": ["MyReadReplicaDBInstance", "Endpoint.Address"]}, "Description": "The endpoint address of the read replica database instance"}}}