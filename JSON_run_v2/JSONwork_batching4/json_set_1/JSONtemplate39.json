{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyTable": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": {"Fn::Sub": "${TableName}"}, "AttributeDefinitions": [{"AttributeName": "id", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "id", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 5, "WriteCapacityUnits": 5}}, "Fn::ForEach": {"Fn::GetAtt": ["Batch", "Names"], "Location": "Embedded", "Body": {"TableName": "${Name}"}}}, "Batch": {"Type": "Custom::Batch", "Properties": {"ServiceToken": "arn:aws:lambda:your-region:your-account-id:function:your-function-name", "Names": ["Table1", "Table2", "Table3"]}}}}