{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "ManagedPolicyArns": ["arn:aws:iam::aws:policy/service-role/AWSGreengrassResourcePolicy"], "RoleName": "GreengrassServiceRole"}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "GreengrassCoreDefinitionVersion"}}, "Name": "GreengrassGroup"}}, "GreengrassGroupVersion": {"Type": "AWS::Greengrass::GroupVersion", "Properties": {"GroupId": {"Ref": "GreengrassGroup"}, "CoreDefinitionVersionArn": {"Ref": "GreengrassCoreDefinitionVersion"}}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"InitialVersion": {"Cores": [{"CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "Id": "GreengrassCore", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/GreengrassCoreThing"}]}, "Name": "GreengrassCoreDefinition"}}, "GreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "GreengrassCoreDefinition"}, "Cores": [{"CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "Id": "GreengrassCore", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/GreengrassCoreThing"}]}}, "GreengrassDeviceDefinition": {"Type": "AWS::Greengrass::DeviceDefinition", "Properties": {"InitialVersion": {"Devices": [{"CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "Id": "GreengrassDevice", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/GreengrassDeviceThing"}]}, "Name": "GreengrassDeviceDefinition"}}, "GreengrassDeviceDefinitionVersion": {"Type": "AWS::Greengrass::DeviceDefinitionVersion", "Properties": {"DeviceDefinitionId": {"Ref": "GreengrassDeviceDefinition"}, "Devices": [{"CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "Id": "GreengrassDevice", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/GreengrassDeviceThing"}]}}}, "Outputs": {"GreengrassGroupId": {"Description": "The ID of the Greengrass Group", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassGroupVersionArn": {"Description": "The ARN of the Greengrass Group Version", "Value": {"Ref": "GreengrassGroupVersion"}}}}