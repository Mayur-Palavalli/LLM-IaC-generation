{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to create a highly-available RDS DB instance with a read replica.", "Resources": {"MyDBSubnetGroup": {"Type": "AWS::RDS::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet Group for RDS", "SubnetIds": ["subnet-123456", "subnet-654321"]}}, "MyDBInstance": {"Type": "AWS::RDS::DBInstance", "Properties": {"AllocatedStorage": "100", "DBInstanceClass": "db.t3.large", "Engine": "mysql", "MasterUsername": "yourusername", "MasterUserPassword": "{{resolve:ssm-secure:DBPasswordSecureString:1}}", "DBSubnetGroupName": {"Ref": "MyDBSubnetGroup"}, "MultiAZ": true, "PubliclyAccessible": false, "DBName": "ExampleDB", "BackupRetentionPeriod": 7, "StorageType": "gp2", "VPCSecurityGroups": ["sg-012345678"]}}, "MyDBReadReplica": {"Type": "AWS::RDS::DBInstance", "Properties": {"SourceDBInstanceIdentifier": {"Ref": "MyDBInstance"}, "DBInstanceClass": "db.t3.large", "PubliclyAccessible": false, "DBSubnetGroupName": {"Ref": "MyDBSubnetGroup"}, "MultiAZ": true}}}, "Outputs": {"MyDBEndpoint": {"Value": {"Fn::GetAtt": ["MyDBInstance", "Endpoint.Address"]}, "Description": "Connection endpoint of the master DB instance."}, "MyReadReplicaEndpoint": {"Value": {"Fn::GetAtt": ["MyDBReadReplica", "Endpoint.Address"]}, "Description": "Connection endpoint of the read replica DB instance."}}}