{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation Sample Template: EKS Cluster on EC2 - Error Fixed", "Resources": {"MyEksCluster": {"Type": "AWS::EKS::Cluster", "Properties": {"Name": "MyCluster", "Version": "1.21", "RoleArn": {"Fn::GetAtt": ["EksClusterRole", "Arn"]}, "ResourcesVpcConfig": {"SecurityGroupIds": [{"Ref": "EksClusterSecurityGroup"}], "SubnetIds": {"Fn::Split": [",", {"Ref": "SubnetIds"}]}}}}, "EksClusterRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "eks.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "ManagedPolicyArns": ["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy", "arn:aws:iam::aws:policy/AmazonEKSServicePolicy"]}}, "EksClusterSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security Group for EKS Cluster", "VpcId": {"Ref": "VpcId"}}}}, "Parameters": {"SubnetIds": {"Type": "String", "Description": "Comma separated list of subnet IDs where the EKS Cluster will be deployed"}, "VpcId": {"Type": "String", "Description": "VPC ID where the EKS Cluster will be deployed"}}, "Outputs": {"ClusterName": {"Value": {"Ref": "MyEksCluster"}, "Description": "Name of the EKS Cluster"}, "ClusterRoleArn": {"Value": {"Fn::GetAtt": ["EksClusterRole", "Arn"]}, "Description": "Role ARN for EKS Cluster"}, "SecurityGroupId": {"Value": {"Ref": "EksClusterSecurityGroup"}, "Description": "Security Group ID for EKS Cluster"}}}