{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template for AWS Greengrass resources and group, with supporting AWS services.", "Resources": {"MyGreengrassRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassPolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:*", "greengrass:*", "lambda:*", "logs:*"], "Resource": "*"}]}}]}}, "MyGreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "RoleArn": {"Fn::GetAtt": ["MyGreengrassRole", "Arn"]}, "InitialVersion": {"LoggerDefinitionVersionArn": {"Ref": "LoggerDefinition"}, "CoreDefinitionVersionArn": {"Ref": "CoreDefinition"}}}}, "MyCoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "MyCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyCoreThing"}}, "LoggerDefinition": {"Type": "AWS::Greengrass::LoggerDefinition", "Properties": {"Name": "MyLoggerDefinition", "InitialVersion": {"Loggers": [{"Id": "Logger", "Type": "FileSystem", "Component": "GreengrassSystem", "Level": "INFO", "Space": 1024}]}}}, "CoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core", "CertificateArn": {"Fn::GetAtt": ["MyCoreCertificate", "Arn"]}, "ThingArn": {"Fn::GetAtt": ["MyCoreThing", "Arn"]}, "SyncShadow": true}]}}}}}