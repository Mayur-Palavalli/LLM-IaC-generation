{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "CoreDefinitionVersion"}, "DeviceDefinitionVersionArn": {"Ref": "DeviceDefinitionVersion"}, "SubscriptionDefinitionVersionArn": {"Ref": "SubscriptionDefinitionVersion"}}, "Name": "MyGreengrassGroup"}}, "CoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition", "InitialVersion": {"Cores": [{"CertificateArn": {"Ref": "CoreCertificateArn"}, "Id": "MyCoreId", "ThingArn": {"Ref": "CoreThingArn"}}]}}}, "CoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "CoreDefinition"}, "Cores": [{"CertificateArn": {"Ref": "CoreCertificateArn"}, "Id": "MyCoreId", "ThingArn": {"Ref": "CoreThingArn"}}]}}, "DeviceDefinition": {"Type": "AWS::Greengrass::DeviceDefinition", "Properties": {"Name": "MyDeviceDefinition", "InitialVersion": {"Devices": [{"CertificateArn": {"Ref": "DeviceCertificateArn"}, "Id": "MyDeviceId", "SyncShadow": true, "ThingArn": {"Ref": "DeviceThingArn"}}]}}}, "DeviceDefinitionVersion": {"Type": "AWS::Greengrass::DeviceDefinitionVersion", "Properties": {"DeviceDefinitionId": {"Ref": "DeviceDefinition"}, "Devices": [{"CertificateArn": {"Ref": "DeviceCertificateArn"}, "Id": "MyDeviceId", "SyncShadow": true, "ThingArn": {"Ref": "DeviceThingArn"}}]}}, "SubscriptionDefinition": {"Type": "AWS::Greengrass::SubscriptionDefinition", "Properties": {"Name": "MySubscriptionDefinition", "InitialVersion": {"Subscriptions": [{"Id": "MySubscriptionId", "Source": "*", "Subject": "my/topic", "Target": "*"}]}}}, "SubscriptionDefinitionVersion": {"Type": "AWS::Greengrass::SubscriptionDefinitionVersion", "Properties": {"SubscriptionDefinitionId": {"Ref": "SubscriptionDefinition"}, "Subscriptions": [{"Id": "MySubscriptionId", "Source": "*", "Subject": "my/topic", "Target": "*"}]}}}, "Parameters": {"CoreCertificateArn": {"Type": "String", "Description": "The ARN of the certificate for the core."}, "CoreThingArn": {"Type": "String", "Description": "The ARN of the core thing."}, "DeviceCertificateArn": {"Type": "String", "Description": "The ARN of the certificate for the device."}, "DeviceThingArn": {"Type": "String", "Description": "The ARN of the device thing."}}}