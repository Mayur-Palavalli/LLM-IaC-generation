{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core1", "CertificateArn": {"Ref": "GreengrassCoreCertArn"}, "SyncShadow": true, "ThingArn": {"Ref": "GreengrassCoreThingArn"}}]}}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinition", "LatestVersionArn"]}}}}, "GreengrassCoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "GreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCore"}}, "GreengrassCoreCertArn": {"Type": "AWS::SSM::Parameter", "Properties": {"Name": "/greengrass/core/CertificateArn", "Type": "String", "Value": {"Fn::GetAtt": ["GreengrassCoreCertificate", "Arn"]}}}, "GreengrassCoreThingArn": {"Type": "AWS::SSM::Parameter", "Properties": {"Name": "/greengrass/core/ThingArn", "Type": "String", "Value": {"Fn::GetAtt": ["GreengrassCoreThing", "Arn"]}}}}, "Outputs": {"GreengrassGroupId": {"Description": "ID of the Greengrass Group", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassCoreDefinitionId": {"Description": "ID of the Greengrass Core Definition", "Value": {"Ref": "GreengrassCoreDefinition"}}}, "Parameters": {"GreengrassCoreCertArn": {"Type": "String", "Description": "The ARN of the Greengrass Core Certificate"}, "GreengrassCoreThingArn": {"Type": "String", "Description": "The ARN of the Greengrass Core Thing"}}}