{"AWSTemplateFormatVersion": "2010-09-09", "Parameters": {"MasterUserPassword": {"Type": "String", "NoEcho": true, "Description": "The database master password"}, "AvailabilityZonePrimary": {"Type": "AWS::EC2::AvailabilityZone::Name", "Description": "Primary DB instance Availability Zone"}, "AvailabilityZoneReplica": {"Type": "AWS::EC2::AvailabilityZone::Name", "Description": "Read replica DB instance Availability Zone"}}, "Resources": {"MyDBSubnetGroup": {"Type": "AWS::RDS::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for the RDS DB instance", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "MyDBInstancePrimary": {"Type": "AWS::RDS::DBInstance", "Properties": {"Engine": "mysql", "DBInstanceClass": "db.t3.medium", "MasterUsername": "admin", "MasterUserPassword": {"Ref": "MasterUserPassword"}, "AllocatedStorage": "20", "AvailabilityZone": {"Ref": "AvailabilityZonePrimary"}, "DBSubnetGroupName": {"Ref": "MyDBSubnetGroup"}, "MultiAZ": true}}, "MyDBReadReplica": {"Type": "AWS::RDS::DBInstance", "Properties": {"SourceDBInstanceIdentifier": {"Ref": "MyDBInstancePrimary"}, "DBInstanceClass": "db.t3.medium", "AvailabilityZone": {"Ref": "AvailabilityZoneReplica"}, "DBSubnetGroupName": {"Ref": "MyDBSubnetGroup"}}}}, "Outputs": {"PrimaryDBInstanceEndpoint": {"Description": "The endpoint address of the primary DB instance", "Value": {"Fn::GetAtt": ["MyDBInstancePrimary", "Endpoint.Address"]}}, "ReadReplicaEndpoint": {"Description": "The endpoint address of the read replica", "Value": {"Fn::GetAtt": ["MyDBReadReplica", "Endpoint.Address"]}}}}