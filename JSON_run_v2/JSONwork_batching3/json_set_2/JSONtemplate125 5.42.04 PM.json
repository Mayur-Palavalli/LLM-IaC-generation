{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to provision AWS Neptune with CI/CD integration, CloudWatch monitoring, and SNS alerts.", "Resources": {"NeptuneDBCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterIdentifier": "NeptuneGraphCluster", "Engine": "neptune", "SnapshotIdentifier": "", "DBClusterParameterGroupName": "default", "VpcSecurityGroupIds": [{"Ref": "NeptuneVPCSecurityGroup"}], "DBSubnetGroupName": {"Ref": "NeptuneDBSubnetGroup"}}}, "NeptuneVPCSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security group for Neptune cluster", "VpcId": {"Ref": "VpcId"}}}, "NeptuneDBSubnetGroup": {"Type": "AWS::Neptune::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for Neptune DB", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "CloudWatchAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmDescription": "Alarm for Neptune DB", "MetricName": "CPUUtilization", "Namespace": "AWS/EC2", "Statistic": "Average", "Period": "300", "EvaluationPeriods": "1", "Threshold": "70", "ComparisonOperator": "GreaterThanThreshold", "AlarmActions": [{"Ref": "SnsTopic"}], "Dimensions": [{"Name": "DBInstanceIdentifier", "Value": {"Ref": "NeptuneDBInstance"}}]}}, "SnsTopic": {"Type": "AWS::SNS::Topic", "Properties": {"Subscription": [{"Endpoint": "example@example.com", "Protocol": "email"}], "TopicName": "NeptuneDBAlerts"}}, "NeptuneDBInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r4.large", "DBClusterIdentifier": {"Ref": "NeptuneDBCluster"}, "DBInstanceIdentifier": "NeptuneGraphInstance"}}}, "Parameters": {"VpcId": {"Description": "VPC ID where the resources will be deployed.", "Type": "AWS::EC2::VPC::Id"}}, "Outputs": {"NeptuneClusterEndpoint": {"Description": "Connection endpoint for the Neptune cluster", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "Endpoint"]}}, "SNSTopicARN": {"Description": "ARN of the SNS Topic for notifications", "Value": {"Ref": "SnsTopic"}}}}