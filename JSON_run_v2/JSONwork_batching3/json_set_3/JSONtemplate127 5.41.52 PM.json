{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template for an RDS DBInstance with a read replica for high availability.", "Resources": {"DBSubnetGroup": {"Type": "AWS::RDS::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for RDS DBInstance and Read Replica", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "MyDBInstance": {"Type": "AWS::RDS::DBInstance", "Properties": {"AllocatedStorage": "100", "DBInstanceClass": "db.m4.large", "Engine": "mysql", "MasterUsername": "adminuser", "MasterUserPassword": {"Ref": "DBPassword"}, "DBSubnetGroupName": {"Ref": "DBSubnetGroup"}, "MultiAZ": true, "PubliclyAccessible": false, "DBName": "MyDatabase", "BackupRetentionPeriod": "7"}}, "MyDBReadReplica": {"Type": "AWS::RDS::DBInstance", "Properties": {"SourceDBInstanceIdentifier": {"Ref": "MyDBInstance"}, "DBInstanceClass": "db.m4.large", "PubliclyAccessible": false, "DBSubnetGroupName": {"Ref": "DBSubnetGroup"}}}}, "Parameters": {"DBPassword": {"Type": "String", "Description": "The database admin password", "NoEcho": true}}, "Outputs": {"DBInstanceEndpoint": {"Description": "The endpoint address of the primary database instance", "Value": {"Fn::GetAtt": ["MyDBInstance", "Endpoint.Address"]}}, "ReadReplicaEndpoint": {"Description": "The endpoint address of the read replica database instance", "Value": {"Fn::GetAtt": ["MyDBReadReplica", "Endpoint.Address"]}}}}