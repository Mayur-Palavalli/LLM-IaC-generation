{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to deploy a static website using S3 and CloudFront", "Resources": {"S3Bucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketName": "my-static-website-bucket", "WebsiteConfiguration": {"IndexDocument": "index.html", "ErrorDocument": "error.html"}}}, "S3BucketPolicy": {"Type": "AWS::S3::BucketPolicy", "Properties": {"Bucket": {"Ref": "S3Bucket"}, "PolicyDocument": {"Statement": [{"Sid": "PublicReadGetObject", "Effect": "Allow", "Principal": "*", "Action": "s3:GetObject", "Resource": {"Fn::Join": ["", ["arn:aws:s3:::", {"Ref": "S3Bucket"}, "/*"]]}}]}}}, "CloudFrontDistribution": {"Type": "AWS::CloudFront::Distribution", "Properties": {"DistributionConfig": {"Enabled": true, "Aliases": ["www.example.com"], "DefaultRootObject": "index.html", "Origins": [{"DomainName": {"Fn::GetAtt": ["S3Bucket", "DomainName"]}, "Id": "S3Origin", "S3OriginConfig": {"OriginAccessIdentity": "origin-access-identity/cloudfront/EXAMPLE"}}], "DefaultCacheBehavior": {"TargetOriginId": "S3Origin", "ViewerProtocolPolicy": "redirect-to-https", "AllowedMethods": ["HEAD", "GET"], "CachedMethods": ["HEAD", "GET"], "ForwardedValues": {"QueryString": false, "Cookies": {"Forward": "none"}}, "MinTTL": 0, "DefaultTTL": 86400, "MaxTTL": 31536000}, "ViewerCertificate": {"CloudFrontDefaultCertificate": true}}}}}, "Outputs": {"WebsiteURL": {"Description": "URL of the static website", "Value": {"Fn::GetAtt": ["S3Bucket", "WebsiteURL"]}}, "CloudFrontDistributionID": {"Description": "CloudFront distribution ID", "Value": {"Ref": "CloudFrontDistribution"}}, "CloudFrontDistributionDomainName": {"Description": "The domain name of the distribution", "Value": {"Fn::GetAtt": ["CloudFrontDistribution", "DomainName"]}}}}