{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template for provisioning an AWS Neptune Graph Database with CI/CD optimizations, CloudWatch Monitoring, and SNS Notifications.", "Resources": {"NeptuneDBCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterIdentifier": "neptune-cluster", "DBSubnetGroupName": {"Ref": "NeptuneDBSubnetGroup"}, "VpcSecurityGroupIds": [{"Ref": "NeptuneVPCSecurityGroup"}]}}, "NeptuneDBInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneDBCluster"}, "DBInstanceIdentifier": "neptune-instance"}}, "NeptuneDBSubnetGroup": {"Type": "AWS::Neptune::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for Neptune", "SubnetIds": ["subnet-12345678", "subnet-87654321"]}}, "NeptuneVPCSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security group for Neptune", "VpcId": "vpc-12345678", "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": 8182, "ToPort": 8182, "CidrIp": "0.0.0.0/0"}]}}, "NeptuneCloudWatchLogs": {"Type": "AWS::Logs::LogGroup", "Properties": {"LogGroupName": "/aws/neptune/instance", "RetentionInDays": 14}}, "SNSTopic": {"Type": "AWS::SNS::Topic", "Properties": {"TopicName": "NeptuneNotificationTopic"}}, "SNSSubscription": {"Type": "AWS::SNS::Subscription", "Properties": {"Protocol": "email", "Endpoint": "email@example.com", "TopicArn": {"Ref": "SNSTopic"}}}, "NeptuneAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmDescription": "Alarm for Neptune CPU Utilization", "MetricName": "CPUUtilization", "Namespace": "AWS/Neptune", "Statistic": "Average", "Period": "300", "EvaluationPeriods": "1", "Threshold": "90", "ComparisonOperator": "GreaterThanThreshold", "AlarmActions": [{"Ref": "SNSTopic"}], "Dimensions": [{"Name": "DBInstanceIdentifier", "Value": {"Ref": "NeptuneDBInstance"}}]}}}, "Outputs": {"NeptuneClusterEndpoint": {"Description": "Endpoint of Neptune Cluster", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "Endpoint"]}}, "NeptuneInstanceARN": {"Description": "ARN of Neptune Instance", "Value": {"Fn::GetAtt": ["NeptuneDBInstance", "DBInstanceIdentifier"]}}, "SNSTopicARN": {"Description": "ARN of the SNS Topic", "Value": {"Ref": "SNSTopic"}}}}