{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template for creating AWS Greengrass resources, including the Greengrass Group and supportive AWS services.", "Resources": {"GreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassServiceRolePolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:*", "greengrass:*", "lambda:*", "logs:*", "cloudwatch:*", "ec2:CreateNetworkInterface", "ec2:DescribeNetworkInterfaces", "ec2:DeleteNetworkInterface"], "Resource": "*"}]}}]}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "RoleArn": {"Fn::GetAtt": ["GreengrassServiceRole", "Arn"]}}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"InitialVersion": {"Cores": [{"Id": "GreengrassCoreId1", "CertificateArn": {"Ref": "GreengrassCoreCertificate"}, "ThingArn": {"Ref": "GreengrassCoreThing"}, "SyncShadow": true}]}}}, "GreengrassCoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE", "CertificateId": {"Ref": "CertificateId"}}}, "GreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "GreengrassCoreThing"}}}}