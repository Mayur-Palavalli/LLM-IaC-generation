{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"NeptuneDBClusterParameterGroup": {"Type": "AWS::Neptune::DBClusterParameterGroup", "Properties": {"Description": "Cluster parameter group for Neptune", "Family": "neptune1", "Parameters": {"neptune_enable_audit_log": "1"}}}, "NeptuneDBCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterParameterGroupName": {"Ref": "NeptuneDBClusterParameterGroup"}, "DbSubnetGroupName": {"Ref": "NeptuneDBSubnetGroup"}, "VpcSecurityGroupIds": [{"Ref": "NeptuneSecurityGroup"}], "BackupRetentionPeriod": 1, "PreferredBackupWindow": "08:00-09:00", "PreferredMaintenanceWindow": "sat:08:00-sat:09:00"}}, "NeptuneDBSubnetGroup": {"Type": "AWS::Neptune::DBSubnetGroup", "Properties": {"DBSubnetGroupDescription": "Subnet group for Neptune cluster", "SubnetIds": ["subnet-0123456789abcdef0", "subnet-0123456789abcdef1"]}}, "NeptuneSecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Security Group for Neptune cluster", "VpcId": "vpc-01234567", "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": 8182, "ToPort": 8182, "CidrIp": "0.0.0.0/0"}]}}, "NeptuneDBInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneDBCluster"}}}, "NeptuneAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmDescription": "Alarm for Neptune CPU usage", "MetricName": "CPUUtilization", "Namespace": "AWS/Neptune", "Statistic": "Average", "Period": 300, "EvaluationPeriods": 1, "Threshold": 80, "ComparisonOperator": "GreaterThanThreshold", "Dimensions": [{"Name": "DBClusterIdentifier", "Value": {"Ref": "NeptuneDBCluster"}}], "AlarmActions": [{"Ref": "SNSAlarmTopic"}]}}, "SNSAlarmTopic": {"Type": "AWS::SNS::Topic", "Properties": {"DisplayName": "Neptune Alarm Topic"}}, "SNSAlarmTopicSubscription": {"Type": "AWS::SNS::Subscription", "Properties": {"TopicArn": {"Ref": "SNSAlarmTopic"}, "Protocol": "email", "Endpoint": "your-email@example.com"}}}, "Outputs": {"NeptuneDBClusterEndpoint": {"Description": "Neptune DB Cluster Endpoint", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "Endpoint"]}}}}