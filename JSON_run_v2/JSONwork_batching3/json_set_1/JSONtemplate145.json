{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"SecureMainBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketEncryption": {"ServerSideEncryptionConfiguration": [{"ServerSideEncryptionByDefault": {"SSEAlgorithm": "AES256"}}]}, "PublicAccessBlockConfiguration": {"BlockPublicAcls": true, "IgnorePublicAcls": true, "BlockPublicPolicy": true, "RestrictPublicBuckets": true}, "LoggingConfiguration": {"DestinationBucketName": {"Ref": "AccessLogBucket"}, "LogFilePrefix": "access-logs/"}}}, "ReplicaBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketEncryption": {"ServerSideEncryptionConfiguration": [{"ServerSideEncryptionByDefault": {"SSEAlgorithm": "AES256"}}]}, "PublicAccessBlockConfiguration": {"BlockPublicAcls": true, "IgnorePublicAcls": true, "BlockPublicPolicy": true, "RestrictPublicBuckets": true}, "BucketReplicationConfiguration": {"Role": "arn:aws:iam::account-id:role/replication-role", "Rules": [{"Destination": {"Bucket": {"Fn::GetAtt": ["SecureMainBucket", "Arn"]}, "StorageClass": "STANDARD"}, "Status": "Enabled"}]}}}, "AccessLogBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketEncryption": {"ServerSideEncryptionConfiguration": [{"ServerSideEncryptionByDefault": {"SSEAlgorithm": "AES256"}}]}, "PublicAccessBlockConfiguration": {"BlockPublicAcls": true, "IgnorePublicAcls": true, "BlockPublicPolicy": true, "RestrictPublicBuckets": true}}}}, "Outputs": {"SecureMainBucketName": {"Description": "Name of the secure main S3 bucket", "Value": {"Ref": "SecureMainBucket"}}, "ReplicaBucketName": {"Description": "Name of the S3 bucket for storing replicas", "Value": {"Ref": "ReplicaBucket"}}, "AccessLogBucketName": {"Description": "Name of the S3 bucket for access logs", "Value": {"Ref": "AccessLogBucket"}}}}