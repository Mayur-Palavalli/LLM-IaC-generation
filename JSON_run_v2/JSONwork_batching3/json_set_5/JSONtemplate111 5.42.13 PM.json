{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyGreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassPolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:*", "greengrass:*", "lambda:*", "logs:*", "cloudwatch:*"], "Resource": "*"}]}}]}}, "MyGreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "RoleArn": {"Fn::GetAtt": ["MyGreengrassServiceRole", "Arn"]}, "InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "MyCoreDefVer"}}}}, "MyCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition"}}, "MyCoreDefVer": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "MyCoreDefinition"}, "Cores": [{"Id": "GreengrassCore", "CertificateArn": {"Ref": "MyCertificate"}, "ThingArn": {"Ref": "MyGreengrassCoreThing"}, "SyncShadow": true}]}}, "MyGreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}, "MyCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"CertificateSigningRequest": "STRING_VALUE", "Status": "ACTIVE"}}}}