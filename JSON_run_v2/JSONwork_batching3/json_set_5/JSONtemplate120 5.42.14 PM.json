{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template for IoT Analytics with Channel, Datastore, Pipeline and Dataset with corrected SQL action.", "Resources": {"MyChannel": {"Type": "AWS::IoTAnalytics::Channel", "Properties": {"ChannelName": "MyIoTChannel"}}, "MyDatastore": {"Type": "AWS::IoTAnalytics::Datastore", "Properties": {"DatastoreName": "MyIoTDatastore"}}, "MyPipeline": {"Type": "AWS::IoTAnalytics::Pipeline", "Properties": {"PipelineName": "MyIoTPipeline", "PipelineActivities": [{"Channel": {"Name": "MyChannelActivity", "ChannelName": {"Ref": "MyChannel"}, "Next": "DatastoreActivity"}}, {"Datastore": {"Name": "DatastoreActivity", "DatastoreName": {"Ref": "MyDatastore"}}}]}}, "MyDataset": {"Type": "AWS::IoTAnalytics::Dataset", "Properties": {"DatasetName": "MyIoTDataset", "Actions": [{"ActionName": "MyQueryAction", "QueryAction": {"SqlQuery": "SELECT * FROM ${MyIoTDatastore}"}}], "Triggers": [{"Schedule": {"ScheduleExpression": "cron(0/15 * * * ? *)"}}]}}}}