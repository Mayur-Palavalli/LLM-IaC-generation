{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"NeptuneDBCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterIdentifier": "neptune-cluster", "BackupRetentionPeriod": 7, "PreferredBackupWindow": "07:00-09:00", "PreferredMaintenanceWindow": "Mon:05:00-Mon:06:00", "StorageEncrypted": true, "Port": 8182}}, "NeptuneDBInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneDBCluster"}, "DBInstanceIdentifier": "neptune-instance", "AutoMinorVersionUpgrade": true, "PreferredMaintenanceWindow": "Mon:06:00-Mon:07:00"}}, "NeptuneCloudWatchAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmName": "NeptuneCPUUtilizationAlarm", "AlarmDescription": "Alarm when Neptune CPU exceeds 75%", "Namespace": "AWS/Neptune", "MetricName": "CPUUtilization", "Dimensions": [{"Name": "DBInstanceIdentifier", "Value": {"Ref": "NeptuneDBInstance"}}], "Statistic": "Average", "Period": 300, "EvaluationPeriods": 1, "Threshold": 75, "ComparisonOperator": "GreaterThanThreshold", "AlarmActions": [{"Ref": "SNSTopic"}]}}, "SNSTopic": {"Type": "AWS::SNS::Topic", "Properties": {"TopicName": "NeptuneAlerts"}}, "SNSTopicSubscription": {"Type": "AWS::SNS::Subscription", "Properties": {"TopicArn": {"Ref": "SNSTopic"}, "Protocol": "email", "Endpoint": "your-email@example.com"}}}, "Outputs": {"NeptuneDBClusterEndpoint": {"Description": "The endpoint for the Neptune DB Cluster", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "Endpoint"]}}, "NeptuneDBClusterReaderEndpoint": {"Description": "The reader endpoint for the Neptune DB Cluster", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "ReadEndpoint"]}}}}