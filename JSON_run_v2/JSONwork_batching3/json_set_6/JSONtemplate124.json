{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"NeptuneCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterIdentifier": "my-neptune-cluster", "BackupRetentionPeriod": 10, "PreferredBackupWindow": "07:34-08:04", "PreferredMaintenanceWindow": "sun:23:45-mon:00:15", "StorageEncrypted": true}}, "NeptuneInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneCluster"}}}, "NeptuneCloudWatchAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmName": "NeptuneCPUAlarm", "AlarmDescription": "Alarm when Neptune CPU exceeds 80%", "MetricName": "CPUUtilization", "Namespace": "AWS/Neptune", "Statistic": "Average", "Period": 300, "EvaluationPeriods": 2, "Threshold": 80, "ComparisonOperator": "GreaterThanOrEqualToThreshold", "Dimensions": [{"Name": "DBClusterIdentifier", "Value": {"Fn::GetAtt": ["NeptuneCluster", "ClusterResourceId"]}}], "AlarmActions": [{"Ref": "SNSTopic"}]}}, "SNSTopic": {"Type": "AWS::SNS::Topic", "Properties": {"TopicName": "NeptuneAlerts"}}, "Subscription": {"Type": "AWS::SNS::Subscription", "Properties": {"Endpoint": "your-email@example.com", "Protocol": "email", "TopicArn": {"Ref": "SNSTopic"}}}}, "Outputs": {"DBClusterEndpoint": {"Description": "The endpoint to connect to the Neptune DB cluster", "Value": {"Fn::GetAtt": ["NeptuneCluster", "Endpoint"]}}, "DBClusterReadEndpoint": {"Description": "The read endpoint to connect to the Neptune DB cluster", "Value": {"Fn::GetAtt": ["NeptuneCluster", "ReadEndpoint"]}}}}