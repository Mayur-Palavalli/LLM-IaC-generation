{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"ParamTableNames": {"Type": "AWS::SSM::Parameter", "Properties": {"Type": "StringList", "Value": "Table1,Table2,Table3"}}, "DynamoDBTables": {"Type": "AWS::CloudFormation::Macro", "Properties": {"FunctionName": {"Fn::Sub": "AWS::Serverless::Function"}, "Parameters": {"TableNames": {"Fn::Split": [",", {"Ref": "ParamTableNames"}]}}}}}, "Transform": "AWS::LanguageExtensions", "ResourcesNested": {"Type": "AWS::CloudFormation::Stack", "Properties": {"TemplateBody": {"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"DynamoTable": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": {"Fn::Select": [0, {"Fn::Split": [",", {"Ref": "ParamTableNames"}]}]}, "AttributeDefinitions": [{"AttributeName": "ID", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "ID", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 5, "WriteCapacityUnits": 5}}}}}, "Parameters": {"TableName": "Table1"}}}}