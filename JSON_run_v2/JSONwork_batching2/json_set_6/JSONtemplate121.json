{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"NeptuneDBCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"BackupRetentionPeriod": 7, "DBClusterIdentifier": "neptune-cluster", "PreferredMaintenanceWindow": "sun:05:00-sun:06:00"}}, "NeptuneDBInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneDBCluster"}, "AvailabilityZone": "us-east-1a"}}, "CloudWatchAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmName": "NeptuneCPUUtilization", "AlarmDescription": "Alarm for Neptune CPU Utilization", "MetricName": "CPUUtilization", "Namespace": "AWS/Neptune", "Statistic": "Average", "Period": 300, "EvaluationPeriods": 1, "Threshold": 80, "ComparisonOperator": "GreaterThanOrEqualToThreshold", "Dimensions": [{"Name": "DBClusterIdentifier", "Value": {"Fn::GetAtt": ["NeptuneDBCluster", "DBClusterIdentifier"]}}], "AlarmActions": [{"Ref": "SNSTopic"}], "InsufficientDataActions": [{"Ref": "SNSTopic"}]}}, "SNSTopic": {"Type": "AWS::SNS::Topic", "Properties": {"TopicName": "NeptuneAlarmsTopic"}}, "SNSTopicSubscription": {"Type": "AWS::SNS::Subscription", "Properties": {"TopicArn": {"Ref": "SNSTopic"}, "Protocol": "email", "Endpoint": "your-email@example.com"}}}, "Outputs": {"DBClusterIdentifier": {"Description": "Identifier for the Neptune DB Cluster", "Value": {"Ref": "NeptuneDBCluster"}}, "DBInstanceIdentifier": {"Description": "Identifier for the Neptune DB Instance", "Value": {"Ref": "NeptuneDBInstance"}}, "SNSTopicArn": {"Description": "ARN of the SNS Topic for Neptune Alarms", "Value": {"Ref": "SNSTopic"}}}}