{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to create an EC2 instance with a single ENI which has multiple private and public IPs.", "Resources": {"MyEC2Instance": {"Type": "AWS::EC2::Instance", "Properties": {"InstanceType": "t2.micro", "KeyName": "<YourKeyName>", "NetworkInterfaces": [{"NetworkInterfaceId": {"Ref": "MyENI"}, "DeviceIndex": 0}], "ImageId": "ami-0abcdef1234567890"}}, "MyENI": {"Type": "AWS::EC2::NetworkInterface", "Properties": {"SubnetId": {"Ref": "MySubnet"}, "Description": "My ENI", "PrivateIpAddresses": [{"Primary": true, "PrivateIpAddress": "10.0.0.10"}, {"Primary": false, "PrivateIpAddress": "10.0.0.11"}], "GroupSet": [{"Ref": "MySecurityGroup"}]}}, "MySubnet": {"Type": "AWS::EC2::Subnet", "Properties": {"VpcId": {"Ref": "MyVPC"}, "CidrBlock": "10.0.0.0/24", "AvailabilityZone": {"Fn::Select": [0, {"Fn::GetAZs": {"Ref": "AWS::Region"}}]}}}, "MySecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Allow SSH and HTTP access", "VpcId": {"Ref": "MyVPC"}, "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": "22", "ToPort": "22", "CidrIp": "0.0.0.0/0"}, {"IpProtocol": "tcp", "FromPort": "80", "ToPort": "80", "CidrIp": "0.0.0.0/0"}]}}, "MyVPC": {"Type": "AWS::EC2::VPC", "Properties": {"CidrBlock": "10.0.0.0/16", "EnableDnsSupport": true, "EnableDnsHostnames": true}}}, "Outputs": {"InstanceId": {"Description": "InstanceId of the newly created EC2 instance", "Value": {"Ref": "MyEC2Instance"}}, "PublicIP": {"Description": "Public IP address of the newly created EC2 instance", "Value": {"Fn::GetAtt": ["MyEC2Instance", "PublicIp"]}}}}