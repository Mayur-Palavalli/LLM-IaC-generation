{"AWSTemplateFormatVersion": "2010-09-09", "Description": "CloudFormation template for a static website using S3 and CloudFront", "Resources": {"WebsiteBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketName": "my-unique-static-website-bucket", "WebsiteConfiguration": {"IndexDocument": "index.html", "ErrorDocument": "error.html"}}}, "BucketPolicy": {"Type": "AWS::S3::BucketPolicy", "Properties": {"Bucket": {"Ref": "WebsiteBucket"}, "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Sid": "PublicReadGetObject", "Effect": "Allow", "Principal": "*", "Action": "s3:GetObject", "Resource": {"Fn::Join": ["", ["arn:aws:s3:::", {"Ref": "WebsiteBucket"}, "/*"]]}}]}}}, "CloudFrontDistribution": {"Type": "AWS::CloudFront::Distribution", "Properties": {"DistributionConfig": {"Origins": [{"Id": "S3Origin", "DomainName": {"Fn::GetAtt": ["WebsiteBucket", "RegionalDomainName"]}, "S3OriginConfig": {}}], "Enabled": true, "DefaultCacheBehavior": {"TargetOriginId": "S3Origin", "ViewerProtocolPolicy": "redirect-to-https", "AllowedMethods": ["HEAD", "GET", "OPTIONS"], "CachePolicyId": "658327ea-f89d-4fab-a63d-7e88639e58f6", "Compress": true}, "DefaultRootObject": "index.html", "ViewerCertificate": {"CloudFrontDefaultCertificate": true}}}}}, "Outputs": {"WebsiteURL": {"Description": "URL for the website", "Value": {"Fn::GetAtt": ["CloudFrontDistribution", "DomainName"]}}, "S3BucketName": {"Description": "Name of the S3 bucket", "Value": {"Ref": "WebsiteBucket"}}}}