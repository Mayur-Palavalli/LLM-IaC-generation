{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"TableConfigurations": {"Type": "Custom::TableConfigurations", "Properties": {"ServiceToken": {"Fn::Sub": "arn:aws:lambda:${AWS::Region}:${AWS::AccountId}:function:TableConfigurationsFunction"}, "TableNames": ["Table1", "Table2", "Table3"]}}, "GeneratedTables": {"Type": "AWS::CloudFormation::CustomResource", "Properties": {"ServiceToken": {"Fn::Sub": "arn:aws:lambda:${AWS::Region}:${AWS::AccountId}:function:TableCreationFunction"}, "Tables": {"Fn::ForEach": [{"Fn::GetAtt": ["TableConfigurations", "TableNames"]}, {"Table": {"Type": "AWS::DynamoDB::Table", "Properties": {"TableName": {"Fn::Select": ["Table", {"Ref": "CurrentItem"}]}, "AttributeDefinitions": [{"AttributeName": "ID", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "ID", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 5, "WriteCapacityUnits": 5}}}}]}}}}}