{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyFileSystem": {"Type": "AWS::EFS::FileSystem", "Properties": {"PerformanceMode": "generalPurpose", "Encrypted": true, "LifecyclePolicies": [{"TransitionToIA": "AFTER_30_DAYS"}]}}, "PrimaryMountTarget": {"Type": "AWS::EFS::MountTarget", "Properties": {"FileSystemId": {"Ref": "MyFileSystem"}, "SubnetId": "subnet-1234567890abcdef0", "SecurityGroups": ["sg-12345678"]}}, "SecondaryMountTarget": {"Type": "AWS::EFS::MountTarget", "Properties": {"FileSystemId": {"Ref": "MyFileSystem"}, "SubnetId": "subnet-abcdef0123456789", "SecurityGroups": ["sg-12345678"]}}, "LaunchConfig": {"Type": "AWS::AutoScaling::LaunchConfiguration", "Properties": {"ImageId": "ami-0123456789abcdef0", "InstanceType": "t2.micro", "UserData": {"Fn::Base64": {"Fn::Sub": ["#!/bin/bash\nsudo yum install -y amazon-efs-utils\nsudo mkdir /mnt/efs\nsudo mount -t efs ${MyFileSystem}:/ /mnt/efs\n", {"MyFileSystem": {"Ref": "MyFileSystem"}}]}}, "SecurityGroups": ["sg-12345678"]}}}, "Outputs": {"FileSystemId": {"Value": {"Ref": "MyFileSystem"}}}}