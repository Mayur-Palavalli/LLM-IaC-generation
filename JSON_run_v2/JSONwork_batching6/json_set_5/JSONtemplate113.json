{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core1", "CertificateArn": {"Ref": "GreengrassCoreCertificate"}, "ThingArn": {"Ref": "GreengrassCoreThing"}, "SyncShadow": true}]}}}, "GreengrassCoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "GreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinition", "LatestVersionArn"]}}}}, "GreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "ManagedPolicyArns": ["arn:aws:iam::aws:policy/service-role/AWSGreengrassResourceAccessRolePolicy"], "Path": "/", "RoleName": "GreengrassServiceRole"}}}, "Outputs": {"GreengrassGroupArn": {"Description": "ARN of the Greengrass group", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassCoreThingName": {"Description": "Name of the Greengrass Core Thing", "Value": {"Ref": "GreengrassCoreThing"}}}}