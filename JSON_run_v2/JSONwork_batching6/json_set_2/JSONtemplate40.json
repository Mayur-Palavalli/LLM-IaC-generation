{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"DynamoDBTables": {"Type": "AWS::CloudFormation::Stack", "Properties": {"TemplateBody": {"Fn::Sub": ["\"AWSTemplateFormatVersion\": \"2010-09-09\", \"Resources\": { \"DynamoTable${Index}\": { \"Type\": \"AWS::DynamoDB::Table\", \"Properties\": { \"AttributeDefinitions\": [ { \"AttributeName\": \"Id\", \"AttributeType\": \"S\" } ], \"KeySchema\": [ { \"AttributeName\": \"Id\", \"KeyType\": \"HASH\" } ], \"ProvisionedThroughput\": { \"ReadCapacityUnits\": 5, \"WriteCapacityUnits\": 5 }, \"TableName\": \"DynamoTable${Index}\" } } }", {"Index": {"Fn::Join": ["", ["${Index}"]]}}]}, "Fn::ForEach": {"Location": "Resources", "Parameters": {"Index": {"Fn::Split": [",", "0,1,2,3,4"]}}, "TemplateBody": {"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"DynamoTable${Index}": {"Type": "AWS::DynamoDB::Table", "Properties": {"AttributeDefinitions": [{"AttributeName": "Id", "AttributeType": "S"}], "KeySchema": [{"AttributeName": "Id", "KeyType": "HASH"}], "ProvisionedThroughput": {"ReadCapacityUnits": 5, "WriteCapacityUnits": 5}, "TableName": {"Fn::Sub": "DynamoTable${Index}"}}}}}}}}}}