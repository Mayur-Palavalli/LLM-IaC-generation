{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassCoreRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassCorePolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:*", "greengrass:*", "logs:*"], "Resource": "*"}]}}]}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "MyGreengrassCore", "CertificateArn": "arn:aws:iot:region:account-id:cert/1234567890abcdef", "SyncShadow": true, "ThingArn": "arn:aws:iot:region:account-id:thing/MyGreengrassCoreThing"}]}}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "GreengrassCoreDefinition"}}}}, "GreengrassGroupRoleAttachment": {"Type": "AWS::Greengrass::GroupRoleAttachment", "Properties": {"GroupId": {"Ref": "GreengrassGroup"}, "RoleArn": {"Fn::GetAtt": ["GreengrassCoreRole", "Arn"]}}}}, "Outputs": {"GreengrassGroupId": {"Description": "Greengrass Group Id", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassCoreRoleArn": {"Description": "IAM Role Arn for Greengrass Core", "Value": {"Fn::GetAtt": ["GreengrassCoreRole", "Arn"]}}}}