{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to create multiple DynamoDB tables using macros.", "Resources": {"DynamoDBTableLoop": {"Type": "Custom::LoopFunction", "Properties": {"ServiceToken": "arn:aws:lambda:us-east-1:123456789012:function:LoopFunction", "Input": [{"TableName": "Table1"}, {"TableName": "Table2"}, {"TableName": "Table3"}]}}}, "Outputs": {"TableResources": {"Value": {"Fn::Join": [",", [{"Fn::GetAtt": ["DynamoDBTableLoop", "Table1Arn"]}, {"Fn::GetAtt": ["DynamoDBTableLoop", "Table2Arn"]}, {"Fn::GetAtt": ["DynamoDBTableLoop", "Table3Arn"]}]]}}}}