{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyNetworkInterface": {"Type": "AWS::EC2::NetworkInterface", "Properties": {"SubnetId": "subnet-xxxxxx", "Description": "Primary network interface", "GroupSet": ["sg-xxxxxx"], "PrivateIpAddresses": [{"Primary": true, "PrivateIpAddress": "10.0.0.10"}, {"Primary": false, "PrivateIpAddress": "10.0.0.11"}]}}, "MyEIP1": {"Type": "AWS::EC2::EIP", "Properties": {"Domain": "vpc"}}, "MyEIP2": {"Type": "AWS::EC2::EIP", "Properties": {"Domain": "vpc"}}, "EIPAssociation1": {"Type": "AWS::EC2::EIPAssociation", "Properties": {"NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "AllocationId": {"Fn::GetAtt": ["MyEIP1", "AllocationId"]}, "PrivateIpAddress": "10.0.0.10"}}, "EIPAssociation2": {"Type": "AWS::EC2::EIPAssociation", "Properties": {"NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "AllocationId": {"Fn::GetAtt": ["MyEIP2", "AllocationId"]}, "PrivateIpAddress": "10.0.0.11"}}, "MyEC2Instance": {"Type": "AWS::EC2::Instance", "Properties": {"InstanceType": "t2.micro", "KeyName": "my-key-pair", "NetworkInterfaces": [{"NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "DeviceIndex": "0"}], "ImageId": "ami-0abcdef1234567890"}, "DependsOn": ["EIPAssociation1", "EIPAssociation2"]}}}