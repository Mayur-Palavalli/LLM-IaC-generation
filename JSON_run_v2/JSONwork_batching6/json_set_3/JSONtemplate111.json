{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation Template for AWS Greengrass Resources and Group", "Resources": {"GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "some-unique-core-ID", "CertificateArn": "arn:aws:iot:region:account-id:cert/certificate-id", "SyncShadow": true, "ThingArn": {"Ref": "GreengrassCoreThing"}}]}}}, "GreengrassCoreGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinition", "LatestVersionArn"]}}}}, "GreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}, "GreengrassRole": {"Type": "AWS::IAM::Role", "Properties": {"RoleName": "MyGreengrassRole", "AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassBasicExecution", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": "iot:*", "Resource": "*"}, {"Effect": "Allow", "Action": "greengrass:*", "Resource": "*"}, {"Effect": "Allow", "Action": "logs:*", "Resource": "*"}]}}]}}}, "Outputs": {"GreengrassGroupArn": {"Description": "ARN of the created Greengrass Group", "Value": {"Ref": "GreengrassCoreGroup"}}, "GreengrassCoreDefinitionArn": {"Description": "ARN of the created Greengrass Core Definition", "Value": {"Fn::GetAtt": ["GreengrassCoreDefinition", "Arn"]}}, "GreengrassCoreThingArn": {"Description": "ARN of the created Greengrass Core Thing", "Value": {"Fn::GetAtt": ["GreengrassCoreThing", "Arn"]}}, "GreengrassRoleArn": {"Description": "ARN of the IAM Role for Greengrass", "Value": {"Fn::GetAtt": ["GreengrassRole", "Arn"]}}}}