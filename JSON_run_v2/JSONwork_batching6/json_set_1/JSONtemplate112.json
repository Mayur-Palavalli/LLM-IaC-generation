{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"InitialVersion": {"CoreDefinitionVersionArn": {"Ref": "CoreDefinitionVersion"}}, "Name": "MyGreengrassGroup"}}, "CoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyCoreDefinition", "InitialVersion": {"Cores": [{"Id": "MyGreengrassCore", "CertificateArn": {"Ref": "CoreCertificateArn"}, "ThingArn": {"Ref": "CoreThingArn"}, "SyncShadow": true}]}}}, "CoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "CoreDefinition"}, "Cores": [{"Id": "MyGreengrassCore", "CertificateArn": {"Ref": "CoreCertificateArn"}, "ThingArn": {"Ref": "CoreThingArn"}, "SyncShadow": true}]}}, "CoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "CoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}, "CoreCertificateArn": {"Description": "This value will be populated with the ARN of the Core Certificate.", "Value": {"Ref": "CoreCertificate"}}, "CoreThingArn": {"Description": "This value will be populated with the ARN of the Core Thing.", "Value": {"Fn::GetAtt": ["CoreThing", "Arn"]}}}, "Outputs": {"GreengrassGroupArn": {"Description": "ARN of the Greengrass Group.", "Value": {"Fn::GetAtt": ["GreengrassGroup", "Arn"]}}, "CoreCertificateArn": {"Description": "ARN of the Greengrass Core Certificate.", "Value": {"Ref": "CoreCertificate"}}, "CoreThingArn": {"Description": "ARN of the Greengrass Core Thing.", "Value": {"Fn::GetAtt": ["CoreThing", "Arn"]}}}}