{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation template to provision AWS Neptune Graph Database with CI/CD integration, CloudWatch monitoring, and SNS notifications.", "Parameters": {}, "Resources": {"NeptuneCluster": {"Type": "AWS::Neptune::DBCluster", "Properties": {"DBClusterIdentifier": "my-neptune-cluster", "BackupRetentionPeriod": 7, "PreferredBackupWindow": "07:00-09:00", "PreferredMaintenanceWindow": "mon:03:00-mon:04:00"}}, "NeptuneInstance": {"Type": "AWS::Neptune::DBInstance", "Properties": {"DBInstanceClass": "db.r5.large", "DBClusterIdentifier": {"Ref": "NeptuneCluster"}, "DBInstanceIdentifier": "my-neptune-instance"}}, "NeptuneClusterParameterGroup": {"Type": "AWS::Neptune::DBClusterParameterGroup", "Properties": {"Description": "Neptune cluster parameter group", "Family": "neptune1", "Parameters": {"neptune_enable_audit_log": "1"}}}, "CloudWatchLogsGroup": {"Type": "AWS::Logs::LogGroup", "Properties": {"LogGroupName": "/aws/neptune/logs", "RetentionInDays": 14}}, "SNSNotificationTopic": {"Type": "AWS::SNS::Topic", "Properties": {"TopicName": "neptune-alerts-topic"}}, "CloudWatchAlarm": {"Type": "AWS::CloudWatch::Alarm", "Properties": {"AlarmName": "NeptuneCPUUtilizationHigh", "MetricName": "CPUUtilization", "Namespace": "AWS/Neptune", "Statistic": "Average", "Period": 300, "EvaluationPeriods": 1, "Threshold": 80, "ComparisonOperator": "GreaterThanThreshold", "AlarmActions": [{"Ref": "SNSNotificationTopic"}], "Dimensions": [{"Name": "DBClusterIdentifier", "Value": {"Ref": "NeptuneCluster"}}]}}}, "Outputs": {"NeptuneClusterEndpoint": {"Description": "The endpoint of the Neptune cluster", "Value": {"Fn::GetAtt": ["NeptuneCluster", "Endpoint"]}}, "NeptuneClusterReadEndpoint": {"Description": "The read endpoint of the Neptune cluster", "Value": {"Fn::GetAtt": ["NeptuneCluster", "ReadEndpoint"]}}, "SNSNotificationTopicARN": {"Description": "The ARN of the SNS notification topic", "Value": {"Ref": "SNSNotificationTopic"}}}}