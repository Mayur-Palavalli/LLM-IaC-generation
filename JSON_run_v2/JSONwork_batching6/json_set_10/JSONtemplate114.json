{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyGreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup"}}, "MyGreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "1", "CertificateArn": {"Ref": "MyGreengrassCoreCertificate"}, "ThingArn": {"Ref": "MyGreengrassCoreThing"}}]}}}, "MyGreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "MyGreengrassCoreDefinition"}, "Cores": [{"Id": "1", "CertificateArn": {"Ref": "MyGreengrassCoreCertificate"}, "ThingArn": {"Ref": "MyGreengrassCoreThing"}}]}}, "MyGreengrassCorePolicy": {"Type": "AWS::IoT::Policy", "Properties": {"PolicyName": "MyGreengrassCorePolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:Connect", "iot:Publish", "iot:Subscribe", "iot:Receive"], "Resource": "*"}]}}}, "MyGreengrassCoreCertificate": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "MyGreengrassCoreThing": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}, "MyGreengrassGroupVersion": {"Type": "AWS::Greengrass::GroupVersion", "Properties": {"GroupId": {"Ref": "MyGreengrassGroup"}, "CoreDefinitionVersionArn": {"Fn::GetAtt": ["MyGreengrassCoreDefinitionVersion", "Arn"]}}}}, "Outputs": {"MyGreengrassGroupId": {"Description": "ID of the Greengrass group", "Value": {"Ref": "MyGreengrassGroup"}}, "MyGreengrassCoreCertificateArn": {"Description": "ARN of the Greengrass core certificate", "Value": {"Fn::GetAtt": ["MyGreengrassCoreCertificate", "Arn"]}}, "MyGreengrassCoreThingArn": {"Description": "ARN of the Greengrass core thing", "Value": {"Fn::GetAtt": ["MyGreengrassCoreThing", "Arn"]}}}}