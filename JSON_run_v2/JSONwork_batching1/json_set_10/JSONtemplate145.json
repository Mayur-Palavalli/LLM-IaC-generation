{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"SecureBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketName": "secure-bucket", "OwnershipControls": {"Rules": [{"ObjectOwnership": "BucketOwnerEnforced"}]}, "BucketEncryption": {"ServerSideEncryptionConfiguration": [{"ServerSideEncryptionByDefault": {"SSEAlgorithm": "AES256"}}]}}}, "ReplicaBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketName": "replica-bucket", "OwnershipControls": {"Rules": [{"ObjectOwnership": "BucketOwnerEnforced"}]}}, "DeletionPolicy": "Retain", "UpdateReplacePolicy": "Retain"}, "AccessLogBucket": {"Type": "AWS::S3::Bucket", "Properties": {"BucketName": "access-log-bucket", "OwnershipControls": {"Rules": [{"ObjectOwnership": "BucketOwnerEnforced"}]}}, "DeletionPolicy": "Retain", "UpdateReplacePolicy": "Retain"}, "SecureBucketPolicy": {"Type": "AWS::S3::BucketPolicy", "Properties": {"Bucket": {"Ref": "SecureBucket"}, "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Deny", "Principal": "*", "Action": "s3:*", "Resource": {"Fn::Join": ["", ["arn:aws:s3:::", {"Ref": "SecureBucket"}, "/*"]]}, "Condition": {"Bool": {"aws:SecureTransport": "false"}}}]}}}}}