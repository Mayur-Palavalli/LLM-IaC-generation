{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"MyEC2Instance": {"Type": "AWS::EC2::Instance", "Properties": {"ImageId": "ami-0abcdef1234567890", "InstanceType": "t2.micro", "NetworkInterfaces": [{"AssociatePublicIpAddress": true, "DeviceIndex": 0, "NetworkInterfaceId": {"Ref": "MyNetworkInterface"}}]}}, "MyNetworkInterface": {"Type": "AWS::EC2::NetworkInterface", "Properties": {"SubnetId": "subnet-0bb1c79de3EXAMPLE", "PrivateIpAddresses": [{"Primary": true, "PrivateIpAddress": "10.0.0.10"}, {"Primary": false, "PrivateIpAddress": "10.0.0.20"}], "Description": "Primary network interface", "GroupSet": [{"Ref": "MySecurityGroup"}], "SecondaryPrivateIpAddressCount": 1}}, "MySecurityGroup": {"Type": "AWS::EC2::SecurityGroup", "Properties": {"GroupDescription": "Enable SSH access", "VpcId": "vpc-1a2b3c4d", "SecurityGroupIngress": [{"IpProtocol": "tcp", "FromPort": 22, "ToPort": 22, "CidrIp": "0.0.0.0/0"}]}}, "MyPublicIp": {"Type": "AWS::EC2::EIP", "Properties": {"Domain": "vpc"}}, "MyEIPAssociation": {"Type": "AWS::EC2::EIPAssociation", "Properties": {"NetworkInterfaceId": {"Ref": "MyNetworkInterface"}, "AllocationId": {"Fn::GetAtt": ["MyPublicIp", "AllocationId"]}}}}, "Outputs": {"InstanceId": {"Description": "Instance ID of the newly created EC2 instance", "Value": {"Ref": "MyEC2Instance"}}, "PublicIP": {"Description": "Public IP address of the EC2 instance", "Value": {"Fn::GetAtt": ["MyPublicIp", "PublicIp"]}}}}