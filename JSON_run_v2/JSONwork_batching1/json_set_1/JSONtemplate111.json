{"AWSTemplateFormatVersion": "2010-09-09", "Description": "AWS CloudFormation Template for Greengrass Group with supporting resources.", "Resources": {"GreengrassRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassBasicExecution", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["logs:CreateLogGroup", "logs:CreateLogStream", "logs:PutLogEvents", "iot:*", "greengrass:*"], "Resource": "*"}]}}]}}, "GreengrassRoleAlias": {"Type": "AWS::Greengrass::RoleAlias", "Properties": {"RoleAlias": "GreengrassRoleAlias", "RoleArn": {"Fn::GetAtt": ["GreengrassRole", "Arn"]}}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "MyGreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core1", "CertificateArn": {"Ref": "GreengrassCoreCertificateArn"}, "SyncShadow": true, "ThingArn": {"Ref": "GreengrassCoreThingArn"}}]}}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "MyGreengrassGroup", "InitialVersion": {"CoreDefinitionVersionArn": {"Fn::GetAtt": ["GreengrassCoreDefinition", "LatestVersionArn"]}}}}, "GreengrassCoreCertificateArn": {"Type": "AWS::IoT::Certificate", "Properties": {"Status": "ACTIVE"}}, "GreengrassCoreThingArn": {"Type": "AWS::IoT::Thing", "Properties": {"ThingName": "MyGreengrassCoreThing"}}}, "Outputs": {"GreengrassGroupArn": {"Description": "The ARN of the Greengrass Group", "Value": {"Ref": "GreengrassGroup"}}}}