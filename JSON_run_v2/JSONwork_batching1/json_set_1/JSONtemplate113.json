{"AWSTemplateFormatVersion": "2010-09-09", "Resources": {"GreengrassServiceRole": {"Type": "AWS::IAM::Role", "Properties": {"AssumeRolePolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Principal": {"Service": "greengrass.amazonaws.com"}, "Action": "sts:AssumeRole"}]}, "Policies": [{"PolicyName": "GreengrassServiceRolePolicy", "PolicyDocument": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["iot:*", "logs:*", "cloudwatch:*", "dynamodb:*", "lambda:*", "greengrass:*", "s3:*"], "Resource": "*"}]}}], "RoleName": "Greengrass_Service_Role"}}, "GreengrassGroup": {"Type": "AWS::Greengrass::Group", "Properties": {"Name": "GreengrassGroup", "InitialVersion": {"GroupVersion": {"CoreDefinitionVersionArn": {"Ref": "GreengrassCoreDefinition"}}}}}, "GreengrassCoreDefinition": {"Type": "AWS::Greengrass::CoreDefinition", "Properties": {"Name": "GreengrassCoreDefinition", "InitialVersion": {"Cores": [{"Id": "Core1", "CertificateArn": "arn:aws:iot:region:account-id:cert/your-certificate-id", "ThingArn": "arn:aws:iot:region:account-id:thing/your-thing-name"}]}}}, "GreengrassCoreDefinitionVersion": {"Type": "AWS::Greengrass::CoreDefinitionVersion", "Properties": {"CoreDefinitionId": {"Ref": "GreengrassCoreDefinition"}, "Cores": [{"Id": "Core1", "CertificateArn": "arn:aws:iot:region:account-id:cert/your-certificate-id", "ThingArn": "arn:aws:iot:region:account-id:thing/your-thing-name"}]}}}, "Outputs": {"GreengrassGroupId": {"Description": "The ID of the Greengrass Group", "Value": {"Ref": "GreengrassGroup"}}, "GreengrassServiceRoleArn": {"Description": "The ARN of the Greengrass Service Role", "Value": {"Fn::GetAtt": ["GreengrassServiceRole", "Arn"]}}}}